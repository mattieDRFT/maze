<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #d4d4d4; -webkit-text-stroke: #d4d4d4}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s8 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none}
    span.s11 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
    span.s12 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s13 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s14 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Maze Runner</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Google Fonts - Inter for clean typography --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;display=swap"</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Tailwind CSS CDN for easy styling --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Base styles for the body to center the game and provide a dark background */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s8">'Inter'</span><span class="s7">,</span><span class="s1"> </span><span class="s5">sans-serif</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #1a202c</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Dark background color */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s5">center</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">min-height:</span><span class="s4"> </span><span class="s9">100vh</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Full viewport height */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s4"> </span><span class="s9">0</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Remove default body margin */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">overflow:</span><span class="s4"> </span><span class="s5">hidden</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Prevent body scrolling, important for touch interactions */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Styling for the main game container */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.game-container</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s4"> </span><span class="s5">center</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Center items horizontally */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #2d3748</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Slightly lighter dark grey */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s4"> </span><span class="s9">1.5rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Inner padding */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Rounded corners */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s9">15px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s4"> </span><span class="s9">0</span><span class="s7">,</span><span class="s4"> </span><span class="s9">0</span><span class="s7">,</span><span class="s4"> </span><span class="s9">0.5</span><span class="s5">)</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Deep, soft shadow */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s4"> </span><span class="s9">90%</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Max width for responsiveness on larger screens */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s4"> </span><span class="s5">fit-content</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Adjust width to content */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Styling for the game canvas itself */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">canvas</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #edf2f7</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Light background for maze paths */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s4"> </span><span class="s9">4px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> #4a5568</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Dark border around the maze */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s4"> </span><span class="s9">0.5rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Rounded corners for the canvas */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">/* Prevents common mobile browser gestures like scrolling/zooming,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">               </span>allowing touch events to be used for game control */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">touch-action:</span><span class="s1"> </span><span class="s5">none</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s4"> </span><span class="s5">block</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Removes extra space below canvas */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Ensures canvas scales down on small screens */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s4"> </span><span class="s5">auto</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Maintains aspect ratio when scaling */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Styling for the message box that displays game status */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.message-box</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #4a5568</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Dark grey background */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s4"> #e2e8f0</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Light text color */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s4"> </span><span class="s9">0.75rem</span><span class="s4"> </span><span class="s9">1.25rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Padding inside the box */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s4"> </span><span class="s9">0.5rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Rounded corners */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">margin-top:</span><span class="s4"> </span><span class="s9">1.25rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Space above the box */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s4"> </span><span class="s9">1.125rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Larger font size */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s4"> </span><span class="s5">center</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Center text */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">min-width:</span><span class="s4"> </span><span class="s9">250px</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Minimum width */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s9">6px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.3</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s11">/* Subtle shadow */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Styling for the reset button */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.btn-reset</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #4299e1</span><span class="s7">;</span><span class="s1"> </span><span class="s11">/* Blue background */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s4"> </span><span class="s5">white</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* White text */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">0.75rem</span><span class="s1"> </span><span class="s9">1.5rem</span><span class="s7">;</span><span class="s1"> </span><span class="s11">/* Padding */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s4"> </span><span class="s9">0.5rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Rounded corners */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Font size */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s4"> </span><span class="s5">bold</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Bold text */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">margin-top:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Space above button */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">cursor:</span><span class="s4"> </span><span class="s5">pointer</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Pointer cursor on hover */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s4"> </span><span class="s5">none</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* No border */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s4"> </span><span class="s1">background-color</span><span class="s4"> </span><span class="s9">0.3s</span><span class="s4"> </span><span class="s1">ease</span><span class="s7">,</span><span class="s4"> </span><span class="s1">transform</span><span class="s4"> </span><span class="s9">0.2s</span><span class="s4"> </span><span class="s1">ease</span><span class="s7">;</span><span class="s4"> </span><span class="s11">/* Smooth transitions */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s9">6px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.3</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s11">/* Button shadow */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Hover effect for the reset button */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.btn-reset:hover</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #3182ce</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Darker blue on hover */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">transform:</span><span class="s4"> </span><span class="s5">translateY(</span><span class="s9">-2px</span><span class="s5">)</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Slight lift effect */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Active (click) effect for the reset button */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.btn-reset:active</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">transform:</span><span class="s4"> </span><span class="s5">translateY(</span><span class="s9">0</span><span class="s5">)</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Return to original position */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Styling for the debug information display */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#debugInfo</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">margin-top:</span><span class="s4"> </span><span class="s9">0.5rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Space above */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s4"> </span><span class="s9">0.8rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Smaller font size */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #3b4457</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Darker background */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">0.5rem</span><span class="s7">;</span><span class="s1"> </span><span class="s11">/* Padding */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s4"> </span><span class="s9">0.5rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Rounded corners */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #cbd5e0</span><span class="s7">;</span><span class="s1"> </span><span class="s11">/* Light grey text */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s4"> </span><span class="s5">center</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Center text */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">min-width:</span><span class="s4"> </span><span class="s9">250px</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Minimum width */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"game-container"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">canvas</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"mazeCanvas"</span><span class="s3">&gt;&lt;/</span><span class="s6">canvas</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"messageBox"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"message-box"</span><span class="s3">&gt;</span><span class="s1">Move the red ball to the green exit!</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Debug info display to show touch/mouse state and ball/target positions --&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"debugInfo"</span><span class="s3">&gt;</span><span class="s1">Debug: Mouse Down: false, Touch Down: false</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"resetButton"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn-reset"</span><span class="s3">&gt;</span><span class="s4">Reset Maze</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Get references to DOM elements</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> canvas </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'mazeCanvas'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> ctx </span><span class="s7">=</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">getContext</span><span class="s7">(</span><span class="s8">'2d'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> messageBox </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'messageBox'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> resetButton </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'resetButton'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> debugInfo </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'debugInfo'</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Mouse and touch state variables, declared globally for accessibility by event listeners</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">let</span><span class="s1"> mouse </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> isDown</span><span class="s7">:</span><span class="s1"> </span><span class="s12">false</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">let</span><span class="s1"> touch </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> isDown</span><span class="s7">:</span><span class="s1"> </span><span class="s12">false</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Maze configuration - 1 for wall, 0 for path. This map is unchanged as per your request.</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> maze </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">0</span><span class="s1">,</span><span class="s13">1</span><span class="s1">],</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">[</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">,</span><span class="s13">1</span><span class="s1">]</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">];</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">let</span><span class="s1"> cellSize</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Ball physics parameters (tuned for responsiveness on mobile)</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// 'speed' controls acceleration, 'damping' controls how quickly it slows down</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">let</span><span class="s1"> ball </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> radius</span><span class="s7">:</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> vx</span><span class="s7">:</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> vy</span><span class="s7">:</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> speed</span><span class="s7">:</span><span class="s1"> </span><span class="s13">0.5</span><span class="s7">,</span><span class="s1"> damping</span><span class="s7">:</span><span class="s1"> </span><span class="s13">0.9</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">let</span><span class="s1"> targetX </span><span class="s7">=</span><span class="s1"> </span><span class="s13">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">let</span><span class="s1"> targetY </span><span class="s7">=</span><span class="s1"> </span><span class="s13">0</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">let</span><span class="s1"> gameStarted </span><span class="s7">=</span><span class="s1"> </span><span class="s12">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">let</span><span class="s1"> gameWon </span><span class="s7">=</span><span class="s1"> </span><span class="s12">false</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s12">let</span><span class="s4"> animationFrameId</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Stores the ID from requestAnimationFrame for cancellation</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Start and End points (in maze grid coordinates)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> startPoint </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> row</span><span class="s7">:</span><span class="s1"> </span><span class="s13">1</span><span class="s7">,</span><span class="s1"> col</span><span class="s7">:</span><span class="s1"> </span><span class="s13">1</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">const</span><span class="s1"> endPoint </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> row</span><span class="s7">:</span><span class="s1"> maze</span><span class="s7">.</span><span class="s1">length </span><span class="s7">-</span><span class="s1"> </span><span class="s13">2</span><span class="s7">,</span><span class="s1"> col</span><span class="s7">:</span><span class="s1"> maze</span><span class="s7">[</span><span class="s13">0</span><span class="s7">].</span><span class="s1">length </span><span class="s7">-</span><span class="s1"> </span><span class="s13">2</span><span class="s1"> </span><span class="s7">};</span><span class="s1"> </span><span class="s11">// Second to last row, second to last column</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">/**</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Updates the debug information displayed on the page.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Shows mouse/touch status, and current ball/target positions.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> updateDebugInfo</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>debugInfo</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`Debug: Mouse Down: </span><span class="s7">${</span><span class="s1">mouse</span><span class="s7">.</span><span class="s1">isDown</span><span class="s7">}</span><span class="s8">, Touch Down: </span><span class="s7">${</span><span class="s1">touch</span><span class="s7">.</span><span class="s1">isDown</span><span class="s7">}</span><span class="s8">, `</span><span class="s1"> </span><span class="s7">+</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                   </span></span><span class="s8">`Ball X: </span><span class="s7">${</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">x</span><span class="s7">.</span><span class="s1">toFixed</span><span class="s7">(</span><span class="s13">1</span><span class="s7">)}</span><span class="s8">, Y: </span><span class="s7">${</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">y</span><span class="s7">.</span><span class="s1">toFixed</span><span class="s7">(</span><span class="s13">1</span><span class="s7">)}</span><span class="s8">, `</span><span class="s1"> </span><span class="s7">+</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                   </span></span><span class="s8">`Target X: </span><span class="s7">${</span><span class="s1">targetX</span><span class="s7">.</span><span class="s1">toFixed</span><span class="s7">(</span><span class="s13">1</span><span class="s7">)}</span><span class="s8">, Y: </span><span class="s7">${</span><span class="s1">targetY</span><span class="s7">.</span><span class="s1">toFixed</span><span class="s7">(</span><span class="s13">1</span><span class="s7">)}</span><span class="s8">`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">/**</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Initializes or resets the game state.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Calculates cell size based on screen, resets ball position, and starts animation.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> initializeGame</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Stop any ongoing animation frame to prevent multiple game loops</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">animationFrameId</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>cancelAnimationFrame</span><span class="s7">(</span><span class="s1">animationFrameId</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Determine maximum canvas dimensions based on window size for responsiveness</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> maxCanvasWidth </span><span class="s7">=</span><span class="s1"> window</span><span class="s7">.</span><span class="s1">innerWidth </span><span class="s7">*</span><span class="s1"> </span><span class="s13">0.9</span><span class="s7">;</span><span class="s1"> </span><span class="s11">// Use up to 90% of window width</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> maxCanvasHeight </span><span class="s7">=</span><span class="s1"> window</span><span class="s7">.</span><span class="s1">innerHeight </span><span class="s7">*</span><span class="s1"> </span><span class="s13">0.8</span><span class="s7">;</span><span class="s1"> </span><span class="s11">// Use up to 80% of window height</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> rows </span><span class="s7">=</span><span class="s1"> maze</span><span class="s7">.</span><span class="s1">length</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> cols </span><span class="s7">=</span><span class="s1"> maze</span><span class="s7">[</span><span class="s13">0</span><span class="s7">].</span><span class="s1">length</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Calculate the ideal cell size to fit the maze within the max dimensions</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> tempCellSizeWidth </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">floor</span><span class="s7">(</span><span class="s1">maxCanvasWidth </span><span class="s7">/</span><span class="s1"> cols</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> tempCellSizeHeight </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">floor</span><span class="s7">(</span><span class="s1">maxCanvasHeight </span><span class="s7">/</span><span class="s1"> rows</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Cap cell size to ensure paths remain navigable on smaller screens (e.g., mobile)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>cellSize </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">min</span><span class="s7">(</span><span class="s1">tempCellSizeWidth</span><span class="s7">,</span><span class="s1"> tempCellSizeHeight</span><span class="s7">,</span><span class="s1"> </span><span class="s13">18</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Set canvas dimensions based on calculated cell size</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>canvas</span><span class="s7">.</span><span class="s1">width </span><span class="s7">=</span><span class="s1"> cols </span><span class="s7">*</span><span class="s1"> cellSize</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>canvas</span><span class="s7">.</span><span class="s1">height </span><span class="s7">=</span><span class="s1"> rows </span><span class="s7">*</span><span class="s1"> cellSize</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Initialize ball's position to the center of the start cell</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">=</span><span class="s1"> cellSize </span><span class="s7">*</span><span class="s1"> </span><span class="s13">0.4</span><span class="s7">;</span><span class="s1"> </span><span class="s11">// Ball radius is 40% of cell size</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ball</span><span class="s7">.</span><span class="s1">x </span><span class="s7">=</span><span class="s1"> startPoint</span><span class="s7">.</span><span class="s1">col </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">/</span><span class="s1"> </span><span class="s13">2</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">=</span><span class="s1"> startPoint</span><span class="s7">.</span><span class="s1">row </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">/</span><span class="s1"> </span><span class="s13">2</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>ball</span><span class="s7">.</span><span class="s4">vx </span><span class="s7">=</span><span class="s4"> </span><span class="s13">0</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Reset horizontal velocity</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>ball</span><span class="s7">.</span><span class="s4">vy </span><span class="s7">=</span><span class="s4"> </span><span class="s13">0</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Reset vertical velocity</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Set initial target to current ball position to prevent immediate movement</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>targetX </span><span class="s7">=</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">x</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>targetY </span><span class="s7">=</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">y</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>gameStarted </span><span class="s7">=</span><span class="s1"> </span><span class="s12">true</span><span class="s7">;</span><span class="s1"> </span><span class="s11">// Mark game as started</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>gameWon </span><span class="s7">=</span><span class="s1"> </span><span class="s12">false</span><span class="s7">;</span><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">// Reset win condition</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span>messageBox</span><span class="s7">.</span><span class="s4">textContent </span><span class="s7">=</span><span class="s4"> </span><span class="s1">"Navigate the red ball to the green exit! Good luck!"</span><span class="s7">;</span><span class="s4"> </span><span class="s11">// Initial game message</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>updateDebugInfo</span><span class="s7">();</span><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s11">// Update debug information</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>drawMaze</span><span class="s7">();</span><span class="s4"> <span class="Apple-converted-space">        </span></span><span class="s1">// Draw the maze and ball in their initial states</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>animate</span><span class="s7">();</span><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">// Start the main game animation loop</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">/**</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Draws the maze walls, start point, end point, and the ball on the canvas.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> drawMaze</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">clearRect</span><span class="s7">(</span><span class="s13">0</span><span class="s7">,</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">width</span><span class="s7">,</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">height</span><span class="s7">);</span><span class="s1"> </span><span class="s11">// Clear the entire canvas</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Iterate through the maze array to draw walls</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">for</span><span class="s1"> </span><span class="s7">(</span><span class="s12">let</span><span class="s1"> row </span><span class="s7">=</span><span class="s1"> </span><span class="s13">0</span><span class="s7">;</span><span class="s1"> row </span><span class="s7">&lt;</span><span class="s1"> maze</span><span class="s7">.</span><span class="s1">length</span><span class="s7">;</span><span class="s1"> row</span><span class="s7">++)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">for</span><span class="s1"> </span><span class="s7">(</span><span class="s12">let</span><span class="s1"> col </span><span class="s7">=</span><span class="s1"> </span><span class="s13">0</span><span class="s7">;</span><span class="s1"> col </span><span class="s7">&lt;</span><span class="s1"> maze</span><span class="s7">[</span><span class="s1">row</span><span class="s7">].</span><span class="s1">length</span><span class="s7">;</span><span class="s1"> col</span><span class="s7">++)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">maze</span><span class="s7">[</span><span class="s1">row</span><span class="s7">][</span><span class="s1">col</span><span class="s7">]</span><span class="s1"> </span><span class="s7">===</span><span class="s1"> </span><span class="s13">1</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s11">// If cell contains a wall</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s7">.</span><span class="s1">fillStyle </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'#4a5568'</span><span class="s7">;</span><span class="s1"> </span><span class="s11">// Wall color (dark grey)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s7">.</span><span class="s1">fillRect</span><span class="s7">(</span><span class="s1">col </span><span class="s7">*</span><span class="s1"> cellSize</span><span class="s7">,</span><span class="s1"> row </span><span class="s7">*</span><span class="s1"> cellSize</span><span class="s7">,</span><span class="s1"> cellSize</span><span class="s7">,</span><span class="s1"> cellSize</span><span class="s7">);</span><span class="s1"> </span><span class="s11">// Draw wall</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Draw start point (light blue square)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">fillStyle </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'#63b3ed'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">fillRect</span><span class="s7">(</span><span class="s1">startPoint</span><span class="s7">.</span><span class="s1">col </span><span class="s7">*</span><span class="s1"> cellSize</span><span class="s7">,</span><span class="s1"> startPoint</span><span class="s7">.</span><span class="s1">row </span><span class="s7">*</span><span class="s1"> cellSize</span><span class="s7">,</span><span class="s1"> cellSize</span><span class="s7">,</span><span class="s1"> cellSize</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Draw a small white circle within the start cell to indicate ball's starting spot</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">beginPath</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">arc</span><span class="s7">(</span><span class="s1">startPoint</span><span class="s7">.</span><span class="s1">col </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">/</span><span class="s1"> </span><span class="s13">2</span><span class="s7">,</span><span class="s1"> startPoint</span><span class="s7">.</span><span class="s1">row </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">/</span><span class="s1"> </span><span class="s13">2</span><span class="s7">,</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">/</span><span class="s1"> </span><span class="s13">2</span><span class="s7">,</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s14">PI</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> </span><span class="s13">2</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">fillStyle </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'#ffffff'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">fill</span><span class="s7">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Draw end point (green square)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">fillStyle </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'#48bb78'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">fillRect</span><span class="s7">(</span><span class="s1">endPoint</span><span class="s7">.</span><span class="s1">col </span><span class="s7">*</span><span class="s1"> cellSize</span><span class="s7">,</span><span class="s1"> endPoint</span><span class="s7">.</span><span class="s1">row </span><span class="s7">*</span><span class="s1"> cellSize</span><span class="s7">,</span><span class="s1"> cellSize</span><span class="s7">,</span><span class="s1"> cellSize</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Draw a small white cross within the end cell to indicate the goal</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">strokeStyle </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'#ffffff'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">lineWidth </span><span class="s7">=</span><span class="s1"> </span><span class="s13">3</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">beginPath</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">moveTo</span><span class="s7">(</span><span class="s1">endPoint</span><span class="s7">.</span><span class="s1">col </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">*</span><span class="s1"> </span><span class="s13">0.2</span><span class="s7">,</span><span class="s1"> endPoint</span><span class="s7">.</span><span class="s1">row </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">*</span><span class="s1"> </span><span class="s13">0.8</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">lineTo</span><span class="s7">(</span><span class="s1">endPoint</span><span class="s7">.</span><span class="s1">col </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">*</span><span class="s1"> </span><span class="s13">0.8</span><span class="s7">,</span><span class="s1"> endPoint</span><span class="s7">.</span><span class="s1">row </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">*</span><span class="s1"> </span><span class="s13">0.2</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">moveTo</span><span class="s7">(</span><span class="s1">endPoint</span><span class="s7">.</span><span class="s1">col </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">*</span><span class="s1"> </span><span class="s13">0.2</span><span class="s7">,</span><span class="s1"> endPoint</span><span class="s7">.</span><span class="s1">row </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">*</span><span class="s1"> </span><span class="s13">0.2</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">lineTo</span><span class="s7">(</span><span class="s1">endPoint</span><span class="s7">.</span><span class="s1">col </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">*</span><span class="s1"> </span><span class="s13">0.8</span><span class="s7">,</span><span class="s1"> endPoint</span><span class="s7">.</span><span class="s1">row </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">*</span><span class="s1"> </span><span class="s13">0.8</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">stroke</span><span class="s7">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>drawBall</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Draw the ball last, so it appears on top of the maze</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">/**</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Draws the red ball at its current calculated position.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> drawBall</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">beginPath</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">arc</span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">y</span><span class="s7">,</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius</span><span class="s7">,</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s14">PI</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> </span><span class="s13">2</span><span class="s7">);</span><span class="s1"> </span><span class="s11">// Draw a circle</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">fillStyle </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'#e53e3e'</span><span class="s7">;</span><span class="s1"> </span><span class="s11">// Red color for the ball</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s7">.</span><span class="s1">fill</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">/**</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Checks if a specific point (e.g., part of the ball) is inside a maze wall.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* @param {number} x - X coordinate of the point to check.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* @param {number} y - Y coordinate of the point to check.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* @returns {boolean} True if the point is within a wall cell, false otherwise.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> isWallAt</span><span class="s7">(</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Treat points outside canvas boundaries as walls</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">x </span><span class="s7">&lt;</span><span class="s1"> </span><span class="s13">0</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> x </span><span class="s7">&gt;=</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">width </span><span class="s7">||</span><span class="s1"> y </span><span class="s7">&lt;</span><span class="s1"> </span><span class="s13">0</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> y </span><span class="s7">&gt;=</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">height</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">return</span><span class="s1"> </span><span class="s12">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> col </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">floor</span><span class="s7">(</span><span class="s1">x </span><span class="s7">/</span><span class="s1"> cellSize</span><span class="s7">);</span><span class="s1"> </span><span class="s11">// Get column index</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> row </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">floor</span><span class="s7">(</span><span class="s1">y </span><span class="s7">/</span><span class="s1"> cellSize</span><span class="s7">);</span><span class="s1"> </span><span class="s11">// Get row index</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Check if the corresponding cell in the maze array is a wall (value 1)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">return</span><span class="s1"> maze</span><span class="s7">[</span><span class="s1">row</span><span class="s7">]</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> maze</span><span class="s7">[</span><span class="s1">row</span><span class="s7">][</span><span class="s1">col</span><span class="s7">]</span><span class="s1"> </span><span class="s7">===</span><span class="s1"> </span><span class="s13">1</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">/**</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* The main game animation loop.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Updates the ball's position based on physics and input, handles collisions,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* redraws the game, and checks for win conditions.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> animate</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">gameWon</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>cancelAnimationFrame</span><span class="s7">(</span><span class="s1">animationFrameId</span><span class="s7">);</span><span class="s1"> </span><span class="s11">// Stop the animation if game is won</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Calculate the vector from the ball's current position to the target position</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> dx_target </span><span class="s7">=</span><span class="s1"> targetX </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">x</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> dy_target </span><span class="s7">=</span><span class="s1"> targetY </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">y</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> distance_to_target </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">sqrt</span><span class="s7">(</span><span class="s1">dx_target </span><span class="s7">*</span><span class="s1"> dx_target </span><span class="s7">+</span><span class="s1"> dy_target </span><span class="s7">*</span><span class="s1"> dy_target</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Apply force (acceleration) towards the target if the pointer is down</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// and the ball is not extremely close to the target (to prevent jitter)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">distance_to_target </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s13">2</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s7">(</span><span class="s1">mouse</span><span class="s7">.</span><span class="s1">isDown </span><span class="s7">||</span><span class="s1"> touch</span><span class="s7">.</span><span class="s1">isDown</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ball</span><span class="s7">.</span><span class="s1">vx </span><span class="s7">+=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">dx_target </span><span class="s7">/</span><span class="s1"> distance_to_target</span><span class="s7">)</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">speed</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ball</span><span class="s7">.</span><span class="s1">vy </span><span class="s7">+=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">dy_target </span><span class="s7">/</span><span class="s1"> distance_to_target</span><span class="s7">)</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">speed</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Apply damping (friction) to gradually slow down the ball</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ball</span><span class="s7">.</span><span class="s1">vx </span><span class="s7">*=</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">damping</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ball</span><span class="s7">.</span><span class="s1">vy </span><span class="s7">*=</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">damping</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Limit the maximum speed of the ball</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> currentSpeed </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">sqrt</span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">vx </span><span class="s7">*</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">vx </span><span class="s7">+</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">vy </span><span class="s7">*</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">vy</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s4"> maxSpeed </span><span class="s7">=</span><span class="s4"> cellSize </span><span class="s7">*</span><span class="s4"> </span><span class="s13">0.3</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Max speed is proportional to cell size for consistent feel</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">currentSpeed </span><span class="s7">&gt;</span><span class="s1"> maxSpeed</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ball</span><span class="s7">.</span><span class="s1">vx </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">vx </span><span class="s7">/</span><span class="s1"> currentSpeed</span><span class="s7">)</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> maxSpeed</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ball</span><span class="s7">.</span><span class="s1">vy </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">vy </span><span class="s7">/</span><span class="s1"> currentSpeed</span><span class="s7">)</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> maxSpeed</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> newBallX </span><span class="s7">=</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">x </span><span class="s7">+</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">vx</span><span class="s7">;</span><span class="s1"> </span><span class="s11">// Predicted next X position</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> newBallY </span><span class="s7">=</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">+</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">vy</span><span class="s7">;</span><span class="s1"> </span><span class="s11">// Predicted next Y position</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> collidedX </span><span class="s7">=</span><span class="s1"> </span><span class="s12">false</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">let</span><span class="s1"> collidedY </span><span class="s7">=</span><span class="s1"> </span><span class="s12">false</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Collision detection and response for horizontal (X-axis) movement</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Check multiple points around the ball's circumference at its predicted new X position</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> checkPointsX </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> newBallX </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">+</span><span class="s1"> </span><span class="s13">1</span><span class="s1"> </span><span class="s7">},</span><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">// Left, slightly below center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> newBallX </span><span class="s7">+</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">+</span><span class="s1"> </span><span class="s13">1</span><span class="s1"> </span><span class="s7">},</span><span class="s1"> <span class="Apple-converted-space">  </span></span><span class="s11">// Right, slightly below center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> newBallX </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">-</span><span class="s1"> </span><span class="s13">1</span><span class="s1"> </span><span class="s7">},</span><span class="s1"> </span><span class="s11">// Left, slightly above center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> newBallX </span><span class="s7">+</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">-</span><span class="s1"> </span><span class="s13">1</span><span class="s1"> </span><span class="s7">},</span><span class="s11">// Right, slightly above center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> newBallX </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">},</span><span class="s1"> <span class="Apple-converted-space">        </span></span><span class="s11">// Left center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> newBallX </span><span class="s7">+</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">}</span><span class="s1"> <span class="Apple-converted-space">        </span></span><span class="s11">// Right center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">for</span><span class="s1"> </span><span class="s7">(</span><span class="s12">const</span><span class="s1"> p </span><span class="s12">of</span><span class="s1"> checkPointsX</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">isWallAt</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">y</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>collidedX </span><span class="s7">=</span><span class="s1"> </span><span class="s12">true</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s12">break</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Found a collision, no need to check further points for X</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">collidedX</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span>ball</span><span class="s7">.</span><span class="s4">vx </span><span class="s7">=</span><span class="s4"> </span><span class="s13">0</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Stop horizontal movement immediately</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Adjust ball's X position to "snap" it out of the wall, preventing sticking</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> currentCellCol </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">floor</span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">x </span><span class="s7">/</span><span class="s1"> cellSize</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">newBallX </span><span class="s7">&gt;</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">x</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s11">// Moving right, hit wall on right</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ball</span><span class="s7">.</span><span class="s1">x </span><span class="s7">=</span><span class="s1"> currentCellCol </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">-</span><span class="s1"> </span><span class="s13">1</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s7">}</span><span class="s4"> </span><span class="s12">else</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">// Moving left, hit wall on left</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ball</span><span class="s7">.</span><span class="s1">x </span><span class="s7">=</span><span class="s1"> currentCellCol </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">+</span><span class="s1"> </span><span class="s13">1</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s12">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span>ball</span><span class="s7">.</span><span class="s4">x </span><span class="s7">=</span><span class="s4"> newBallX</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// If no collision, update ball's X position</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Collision detection and response for vertical (Y-axis) movement</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Check multiple points around the ball's circumference at its predicted new Y position</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> checkPointsY </span><span class="s7">=</span><span class="s1"> </span><span class="s7">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">x </span><span class="s7">+</span><span class="s1"> </span><span class="s13">1</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> newBallY </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">},</span><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">// Top, slightly right of center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">x </span><span class="s7">+</span><span class="s1"> </span><span class="s13">1</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> newBallY </span><span class="s7">+</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">},</span><span class="s1"> <span class="Apple-converted-space">  </span></span><span class="s11">// Bottom, slightly right of center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">x </span><span class="s7">-</span><span class="s1"> </span><span class="s13">1</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> newBallY </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">},</span><span class="s1"> </span><span class="s11">// Top, slightly left of center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">x </span><span class="s7">-</span><span class="s1"> </span><span class="s13">1</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> newBallY </span><span class="s7">+</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">},</span><span class="s11">// Bottom, slightly left of center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> newBallY </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">},</span><span class="s1"> <span class="Apple-converted-space">            </span></span><span class="s11">// Top center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">{</span><span class="s1"> x</span><span class="s7">:</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> y</span><span class="s7">:</span><span class="s1"> newBallY </span><span class="s7">+</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">}</span><span class="s1"> <span class="Apple-converted-space">          </span></span><span class="s11">// Bottom center</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">for</span><span class="s1"> </span><span class="s7">(</span><span class="s12">const</span><span class="s1"> p </span><span class="s12">of</span><span class="s1"> checkPointsY</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">isWallAt</span><span class="s7">(</span><span class="s1">p</span><span class="s7">.</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> p</span><span class="s7">.</span><span class="s1">y</span><span class="s7">))</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>collidedY </span><span class="s7">=</span><span class="s1"> </span><span class="s12">true</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s12">break</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Found a collision, no need to check further points for Y</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">collidedY</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span>ball</span><span class="s7">.</span><span class="s4">vy </span><span class="s7">=</span><span class="s4"> </span><span class="s13">0</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Stop vertical movement immediately</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Adjust ball's Y position to "snap" it out of the wall</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> currentCellRow </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">floor</span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">/</span><span class="s1"> cellSize</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">newBallY </span><span class="s7">&gt;</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">y</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s11">// Moving down, hit wall on bottom</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">=</span><span class="s1"> currentCellRow </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> cellSize </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">-</span><span class="s1"> </span><span class="s13">1</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s7">}</span><span class="s4"> </span><span class="s12">else</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> </span><span class="s1">// Moving up, hit wall on top</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">=</span><span class="s1"> currentCellRow </span><span class="s7">*</span><span class="s1"> cellSize </span><span class="s7">+</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius </span><span class="s7">+</span><span class="s1"> </span><span class="s13">1</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s12">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span>ball</span><span class="s7">.</span><span class="s4">y </span><span class="s7">=</span><span class="s4"> newBallY</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// If no collision, update ball's Y position</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Clamp ball position within canvas boundaries to ensure it never leaves the play area</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ball</span><span class="s7">.</span><span class="s1">x </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">max</span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">radius</span><span class="s7">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">min</span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">x</span><span class="s7">,</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">width </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">max</span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">radius</span><span class="s7">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">min</span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">y</span><span class="s7">,</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">height </span><span class="s7">-</span><span class="s1"> ball</span><span class="s7">.</span><span class="s1">radius</span><span class="s7">));</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>drawMaze</span><span class="s7">();</span><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">// Redraw the entire game state with updated ball position</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>checkWinCondition</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Check if the ball has reached the end point</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>updateDebugInfo</span><span class="s7">();</span><span class="s4"> <span class="Apple-converted-space">  </span></span><span class="s1">// Update the debug display with current game states</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Request the next animation frame, creating a continuous loop</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>animationFrameId </span><span class="s7">=</span><span class="s1"> requestAnimationFrame</span><span class="s7">(</span><span class="s1">animate</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">/**</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Sets the target coordinates for the ball based on the user's mouse or touch input.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* @param {number} clientX - The X coordinate of the input event relative to the viewport.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* @param {number} clientY - The Y coordinate of the input event relative to the viewport.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> setTargetPosition</span><span class="s7">(</span><span class="s1">clientX</span><span class="s7">,</span><span class="s1"> clientY</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s4"> </span><span class="s7">(</span><span class="s4">gameWon</span><span class="s7">)</span><span class="s4"> </span><span class="s12">return</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Ignore input if the game is already won</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Get the canvas's size and position relative to the viewport</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> rect </span><span class="s7">=</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">getBoundingClientRect</span><span class="s7">();</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Calculate target coordinates relative to the canvas</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>targetX </span><span class="s7">=</span><span class="s1"> clientX </span><span class="s7">-</span><span class="s1"> rect</span><span class="s7">.</span><span class="s1">left</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>targetY </span><span class="s7">=</span><span class="s1"> clientY </span><span class="s7">-</span><span class="s1"> rect</span><span class="s7">.</span><span class="s1">top</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Clamp target coordinates to stay within canvas bounds</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>targetX </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">max</span><span class="s7">(</span><span class="s13">0</span><span class="s7">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">min</span><span class="s7">(</span><span class="s1">targetX</span><span class="s7">,</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">width</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>targetY </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">max</span><span class="s7">(</span><span class="s13">0</span><span class="s7">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">min</span><span class="s7">(</span><span class="s1">targetY</span><span class="s7">,</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">height</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">/**</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Checks if the ball has reached the end point of the maze.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s12">function</span><span class="s1"> checkWinCondition</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Get the grid cell coordinates of the ball</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> ballGridCol </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">floor</span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">x </span><span class="s7">/</span><span class="s1"> cellSize</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> ballGridRow </span><span class="s7">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s7">.</span><span class="s1">floor</span><span class="s7">(</span><span class="s1">ball</span><span class="s7">.</span><span class="s1">y </span><span class="s7">/</span><span class="s1"> cellSize</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Check if ball is in the same grid cell as the end point and game is not already won</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">ballGridCol </span><span class="s7">===</span><span class="s1"> endPoint</span><span class="s7">.</span><span class="s1">col </span><span class="s7">&amp;&amp;</span><span class="s1"> ballGridRow </span><span class="s7">===</span><span class="s1"> endPoint</span><span class="s7">.</span><span class="s1">row </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s7">!</span><span class="s1">gameWon</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameWon </span><span class="s7">=</span><span class="s1"> </span><span class="s12">true</span><span class="s7">;</span><span class="s1"> </span><span class="s11">// Set game won state</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>messageBox</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">"Congratulations! You won the maze!"</span><span class="s7">;</span><span class="s1"> </span><span class="s11">// Update message for the user</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span>ctx</span><span class="s7">.</span><span class="s4">fillStyle </span><span class="s7">=</span><span class="s4"> </span><span class="s8">'rgba(72, 187, 120, 0.5)'</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Apply a semi-transparent green overlay for visual feedback</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s7">.</span><span class="s1">fillRect</span><span class="s7">(</span><span class="s13">0</span><span class="s7">,</span><span class="s1"> </span><span class="s13">0</span><span class="s7">,</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">width</span><span class="s7">,</span><span class="s1"> canvas</span><span class="s7">.</span><span class="s1">height</span><span class="s7">);</span><span class="s1"> </span><span class="s11">// Draw the overlay</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>cancelAnimationFrame</span><span class="s7">(</span><span class="s1">animationFrameId</span><span class="s7">);</span><span class="s1"> </span><span class="s11">// Stop the animation loop as the game is over</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Event Listeners for Mouse and Touch Interactions ---</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Mouse events (for desktop interaction)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'mousedown'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>mouse</span><span class="s7">.</span><span class="s1">isDown </span><span class="s7">=</span><span class="s1"> </span><span class="s12">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setTargetPosition</span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">clientX</span><span class="s7">,</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">clientY</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>updateDebugInfo</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Update debug info to reflect mouse state</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'mousemove'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">mouse</span><span class="s7">.</span><span class="s1">isDown </span><span class="s7">&amp;&amp;</span><span class="s1"> gameStarted </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s7">!</span><span class="s1">gameWon</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>setTargetPosition</span><span class="s7">(</span><span class="s1">e</span><span class="s7">.</span><span class="s1">clientX</span><span class="s7">,</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">clientY</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'mouseup'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>mouse</span><span class="s7">.</span><span class="s1">isDown </span><span class="s7">=</span><span class="s1"> </span><span class="s12">false</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>updateDebugInfo</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Update debug info to reflect mouse state</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'mouseleave'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>mouse</span><span class="s7">.</span><span class="s1">isDown </span><span class="s7">=</span><span class="s1"> </span><span class="s12">false</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>updateDebugInfo</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Update debug info if mouse leaves canvas area</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Touch events (for mobile interaction)</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// `passive: false` is crucial here to allow `e.preventDefault()` to stop default browser behaviors (like scrolling)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'touchstart'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>e</span><span class="s7">.</span><span class="s4">preventDefault</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Prevent default browser touch actions</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>touch</span><span class="s7">.</span><span class="s1">isDown </span><span class="s7">=</span><span class="s1"> </span><span class="s12">true</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">const</span><span class="s1"> touch </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">touches</span><span class="s7">[</span><span class="s13">0</span><span class="s7">];</span><span class="s1"> </span><span class="s11">// Get the first touch point</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setTargetPosition</span><span class="s7">(</span><span class="s1">touch</span><span class="s7">.</span><span class="s1">clientX</span><span class="s7">,</span><span class="s1"> touch</span><span class="s7">.</span><span class="s1">clientY</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>updateDebugInfo</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Update debug info to reflect touch state</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">},</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> passive</span><span class="s7">:</span><span class="s1"> </span><span class="s12">false</span><span class="s1"> </span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'touchmove'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>e</span><span class="s7">.</span><span class="s4">preventDefault</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Prevent default browser touch actions</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">touch</span><span class="s7">.</span><span class="s1">isDown </span><span class="s7">&amp;&amp;</span><span class="s1"> gameStarted </span><span class="s7">&amp;&amp;</span><span class="s1"> </span><span class="s7">!</span><span class="s1">gameWon</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">const</span><span class="s1"> touch </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">touches</span><span class="s7">[</span><span class="s13">0</span><span class="s7">];</span><span class="s1"> </span><span class="s11">// Get the first touch point</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>setTargetPosition</span><span class="s7">(</span><span class="s1">touch</span><span class="s7">.</span><span class="s1">clientX</span><span class="s7">,</span><span class="s1"> touch</span><span class="s7">.</span><span class="s1">clientY</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">},</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> passive</span><span class="s7">:</span><span class="s1"> </span><span class="s12">false</span><span class="s1"> </span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'touchend'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>touch</span><span class="s7">.</span><span class="s1">isDown </span><span class="s7">=</span><span class="s1"> </span><span class="s12">false</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>updateDebugInfo</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Update debug info to reflect touch state</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>canvas</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'touchcancel'</span><span class="s7">,</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>touch</span><span class="s7">.</span><span class="s1">isDown </span><span class="s7">=</span><span class="s1"> </span><span class="s12">false</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>updateDebugInfo</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Update debug info if touch interaction is cancelled</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Reset button functionality</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>resetButton</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> initializeGame</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Handle window resize to ensure the canvas scales correctly on different screen sizes</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'resize'</span><span class="s7">,</span><span class="s1"> initializeGame</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Initial game setup when the entire window content (including images, etc.) has loaded</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">onload </span><span class="s7">=</span><span class="s1"> initializeGame</span><span class="s7">;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
</body>
</html>
